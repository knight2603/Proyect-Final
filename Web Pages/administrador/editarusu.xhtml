<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <title>Editar Usuario</title>
    <h:outputStylesheet library="css" name="dashboardusuarios.css"/>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
        }
        .main-content {
            margin-left: 260px; /* espacio para el sidebar */
            padding: 30px;
        }
        .form-container {
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
        }
        .btn-group {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</h:head>

<h:body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h:graphicImage library="img" name="download.png" alt="Logo" styleClass="logo"/>
            <span>HOMECOPY PAPELERIA J&amp;D</span>
        </div>
        <div class="sidebar-menu">
            <h:link outcome="/admin.xhtml" styleClass="menu-item">
                <i class="fas fa-home"></i>
                <h:outputText value="Dashboard"/>
            </h:link>
            <h:link outcome="/administrador/usuarios.xhtml" styleClass="menu-item active">
                <i class="fas fa-users"></i>
                <h:outputText value="Usuarios"/>
            </h:link>
            <h:link outcome="/administrador/correos.xhtml">
                <i class="fas fa-envelope"></i>
                <h:outputText value="Correos"/>
            </h:link>
            <h:link outcome="/administrador/inventario.xhtml" styleClass="menu-item">
                <i class="fas fa-box"></i>
                <h:outputText value="Inventario"/>
            </h:link>
        </div>
        <div class="sidebar-footer">
            <h:form>
                <h:commandLink action="#{usuarioBean.cerrarSesion}" styleClass="nav-link">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Cerrar Sesión</span>
                </h:commandLink>
            </h:form>
        </div>
    </div>  

    <!-- Contenido principal -->
    <div class="main-content">
        <div class="form-container">
            <h:form id="formEditarUsuario">

                <h1>Editar Usuario</h1>
                <p:growl id="msj" showDetail="true" showSummary="true" />

                <h:panelGrid columns="2" cellpadding="8" columnClasses="label,value"
                             style="width:100%;">

                    <h:outputLabel for="cc" value="Cédula:" />
                    <p:inputText id="cc" value="#{usuarioBean.usuario.cc}" required="true" label="Cédula" />

                    <h:outputLabel for="nombre" value="Nombre:" />
                    <p:inputText id="nombre" value="#{usuarioBean.usuario.nombre}" required="true" label="Nombre" />

                    <h:outputLabel for="apellido" value="Apellido:" />
                    <p:inputText id="apellido" value="#{usuarioBean.usuario.lastname}" required="true" label="Apellido" />

                    <h:outputLabel for="correo" value="Correo:" />
                    <p:inputText id="correo" value="#{usuarioBean.usuario.correo}" required="true" label="Correo" />

                    <h:outputLabel for="pswd" value="Contraseña:" />
                    <p:password id="pswd" value="#{usuarioBean.usuario.pswd}" required="true" label="Contraseña" />

                </h:panelGrid>

                <div class="btn-group">
                    <p:commandButton ajax="false" value="Actualizar" 
                                     actionListener="#{usuarioBean.actualizar()}" 
                                     action="index" 
                                     style="background-color:#007bff; color:white; border:none; border-radius:6px; padding:8px 16px;"/>
                    
                    <p:commandButton value="Cancelar" icon="pi pi-times" immediate="true"
                                     action="usuarios.xhtml" 
                                     style="margin-left:10px; background-color:#dc3545; color:white; border:none; border-radius:6px; padding:8px 16px;"/>
                </div>

            </h:form>
        </div>
    </div>
</h:body>
</html>
