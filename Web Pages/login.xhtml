<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <h:head>
        <title>Login</title>
        <h:outputStylesheet library="css" name="login.css" />
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&amp;display=swap" rel="stylesheet" />
    </h:head>

    <h:body>
        <div class="container">
            <!-- Formulario de login -->
            <h:form id="login-form">
                <h1>Iniciar Sesión</h1>
                <p>Ingrese sus credenciales para acceder</p>

                <!-- Campo de correo -->
                <div class="form-group">
                    <h:outputLabel for="correo" value="Correo electrónico" />
                    <h:inputText id="correo" value="#{usuarioBean.usuario.correo}"
                                 required="true"
                                 requiredMessage="El correo es obligatorio"
                                 validator="#{usuarioBean.validarGmail}"
                                 pt:placeholder="ejemplo@gmail.com"
                                 styleClass="input-text"/>
                    <h:message for="correo" style="color:red" />
                </div>

                <!-- Campo de contraseña -->
                <div class="form-group">
                    <h:outputLabel for="contrasena" value="Contraseña" />
                    <div class="password-container">
                        <h:inputSecret id="contrasena" value="#{usuarioBean.usuario.pswd}"
                                       required="true"
                                       requiredMessage="La contraseña es obligatoria"
                                       pt:placeholder="Ingrese su contraseña"
                                       validatorMessage=" Una Mayúscula, una minúscula, un número (4 a 10 caracteres)"
                                       styleClass="input-password"/>
                    </div>
                </div>

                <!-- Enlaces debajo del campo de contraseña -->
                <div class="form-links">
                    <h:link outcome="nuevousu" value="¿No tienes cuenta?" />
                    &nbsp;|&nbsp;
                    <h:link outcome="forgetpassword" value="¿Olvidó su contraseña?" />
                </div>

                <!-- Mensajes de error -->
                <h:messages id="error-message" globalOnly="true" style="color:red;" />

                <!-- Botón de login -->
                <p:commandButton  ajax="false" value="Ingresar" actionListener="#{usuarioBean.auth()}" />
            </h:form>
        </div>
        <p:growl id="msj" showDetail="true" showSummary="false"/>
    </h:body>
</html>
